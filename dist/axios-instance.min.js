"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createInstance=void 0;const axios_1=__importDefault(require("axios")),https_1=__importDefault(require("https")),crypto_1=require("crypto"),createInstance=({DEBUG:DEBUG,PHPSESSID:PHPSESSID,CSRF:CSRF,X_CSRF_TOKEN:X_CSRF_TOKEN})=>{if(console.log("PHPSESSID",PHPSESSID),DEBUG&&"0"===DEBUG&&(console.debug=function(){}),void 0===PHPSESSID||void 0===CSRF||void 0===X_CSRF_TOKEN)throw new Error("PHPSESSID, CSRF, X_CSRF_TOKEN must be defined in .env");const cookie=`PHPSESSID=${PHPSESSID}; _csrf=${CSRF}`,csrfToken=X_CSRF_TOKEN;return axios_1.default.create({headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","cache-control":"max-age=0","sec-ch-ua":'"Not_A Brand";v="99", "Brave";v="109", "Chromium";v="109"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"Windows"',"sec-fetch-dest":"document","sec-fetch-mode":"navigate","sec-fetch-site":"same-origin","sec-fetch-user":"?1","sec-gpc":"1","upgrade-insecure-requests":"1",cookie:cookie,"X-CSRF-Token":csrfToken,"X-Requested-With":"XMLHttpRequest","content-type":"application/x-www-form-urlencoded",origin:"https://siakad.uns.ac.id",referer:"https://siakad.uns.ac.id/registrasi/input-krs/index"},httpsAgent:new https_1.default.Agent({rejectUnauthorized:!1,secureOptions:crypto_1.constants.SSL_OP_LEGACY_SERVER_CONNECT|crypto_1.constants.SSL_OP_NO_TLSv1_1})})};exports.createInstance=createInstance;